  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "pessoas" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "comprador" varchar, "descricao" varchar, "preco" decimal, "quantidade" decimal, "endereco" varchar, "fornecedor" varchar)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210209140227)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-02-12 11:17:39.142653"], ["updated_at", "2021-02-12 11:17:39.142653"]]
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PessoasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
PessoasControllerTest: test_a_cotnendo_o_formul√°rio_de_importa√ß√£o_deve_carregar
-------------------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/importar.html.erb within layouts/application
  Rendered pessoas/importar.html.erb within layouts/application (3.6ms)
Completed 200 OK in 305ms (Views: 304.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/importar.html.erb within layouts/application
  Rendered pessoas/importar.html.erb within layouts/application (3.6ms)
Completed 200 OK in 155ms (Views: 154.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
PessoaTest: test_should_report_error
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
PessoaTest: test_should_report_error
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/importar.html.erb within layouts/application
  Rendered pessoas/importar.html.erb within layouts/application (3.9ms)
Completed 200 OK in 174ms (Views: 173.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/importar.html.erb within layouts/application
  Rendered pessoas/importar.html.erb within layouts/application (8.4ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/importar.html.erb within layouts/application
  Rendered pessoas/importar.html.erb within layouts/application (3.5ms)
Completed 200 OK in 159ms (Views: 158.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "pessoas" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lote" varchar, "comprador" varchar, "descricao" varchar, "preco" decimal(8,2), "quantidade" decimal, "endereco" varchar, "fornecedor" varchar)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (7.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210209140227)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-02-15 13:14:11.958561"], ["updated_at", "2021-02-15 13:14:11.958561"]]
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCategories (20210213142300)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "status" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210213142300"]]
  [1m[35m (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------
PessoaTest: test_Salvar_
------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 1480ms (Views: 1479.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------
PessoaTest: test_teste
----------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (42.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------
PessoaTest: test_the_truth
--------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------
PessoaTest: test_the_truth
--------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (78.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[36mPessoa Load (0.4ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (17.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PessoaTest: test_Salvar_uma_pessoa_preenchendo_todos_os_atributos
-----------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 1043204182)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 228459479)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 228459479], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1043204182], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 578911228)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 575441185)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 578911228], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 575441185], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 578911228)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 575441185)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 756109292)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 897157965)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 756109292)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 897157965)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PessoaTest: test_O_tipo_do_valor_informado_para_a_quantidade_deve_ser_decimal
-----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 897157965], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
PessoaTest: test_O_tipo_do_valor_informado_para_o_pre√ßo_deve_ser_decimal
------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
PessoaTest: test_O_tipo_do_valor_informado_para_o_pre√ßo_deve_ser_decimal
------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
PessoaTest: test_O_tipo_do_valor_informado_para_o_pre√ßo_deve_ser_decimal
------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 1, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 123213, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (120.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.4ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'abc', 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PessoaTest: test_O_valor_informado_para_o_pre√ßo_n√£o_pode_ser_string
-------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 5, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 'xyz', 3, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (42.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.4ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 245ms (Views: 245.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 247ms (Views: 247.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"pessoa"=>#<ActionDispatch::Http::UploadedFile:0x00005598ff14c998 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-11732-1x3nagu.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"pessoa\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 202ms (Views: 201.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"pessoa"=>#<ActionDispatch::Http::UploadedFile:0x000056485c19f2d0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-12082-14apeav.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"pessoa\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"pessoa"=>#<ActionDispatch::Http::UploadedFile:0x000055cb4f39c770 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-12293-r883h3.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"pessoa\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"pessoa"=>#<ActionDispatch::Http::UploadedFile:0x000055fb4f4abca8 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-13106-166ha7e.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"pessoa\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 195ms (Views: 194.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (42.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"pessoa"=>#<ActionDispatch::Http::UploadedFile:0x000055c904f519a0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-15106-sswxic.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"pessoa\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (41.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055651cf1ff28 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-15813-1w9po9t.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398285"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398285"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398285"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398285"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613398285"]]
  Rendered pessoas/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 204ms (Views: 194.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 181ms (Views: 180.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055d7ccf42348 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-16614-1u5vf4d.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398358"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398358"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398358"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398358"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613398358"]]
  Rendered pessoas/show.html.erb within layouts/application (12.8ms)
Completed 200 OK in 28ms (Views: 14.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000563f7f65c448 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-17350-z1ej1w.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 185ms (Views: 183.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000563f8162e6e0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-17350-8dsh08.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398414"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398414"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398414"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398414"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613398414"]]
  Rendered pessoas/show.html.erb within layouts/application (9.0ms)
Completed 200 OK in 19ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055bdc02cf1b8 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-17627-1hxa9la.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 182ms (Views: 180.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055cd2bc34850 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-19584-8k0v76.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398536"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398536"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398536"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613398536"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613398536"]]
  Rendered pessoas/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 197ms (Views: 188.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#show as HTML
  Parameters: {"id"=>"1"}
  Rendering pessoas/show.html.erb within layouts/application
  Rendered pessoas/show.html.erb within layouts/application (5.9ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (13.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005638c67bf930 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-26658-1jzjdxg.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399049"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399049"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399049"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399049"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399049"]]
  Rendered pessoas/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 198ms (Views: 187.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005637e7ed1460 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-28177-22lzk2.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399144"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399144"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399144"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399144"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399144"]]
  Rendered pessoas/show.html.erb within layouts/application (12.4ms)
Completed 200 OK in 201ms (Views: 191.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000555d929ba538 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-28608-1iiwl0v.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 192ms (Views: 190.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005653e3b3b540 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-28977-190w6yk.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 171ms (Views: 170.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (54.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (28.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055de62da8018 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-5191-1c177tz.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399561"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399561"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399561"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399561"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399561"]]
  Rendered pessoas/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 221ms (Views: 210.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000556d3d984ce8 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-5969-1vudiul.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399636"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399636"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399636"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399636"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399636"]]
  Rendered pessoas/show.html.erb within layouts/application (11.4ms)
Completed 200 OK in 216ms (Views: 206.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055a3fc7539b0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-6290-1dciocs.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399645"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399645"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399645"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399645"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399645"]]
  Rendered pessoas/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 213ms (Views: 202.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005652631ef9e0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-6944-12ivdec.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399674"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399674"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399674"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399674"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399674"]]
  Rendered pessoas/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 232ms (Views: 219.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055921bb38d98 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-7760-16asd1n.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399694"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399694"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399694"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613399694"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613399694"]]
  Rendered pessoas/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 211ms (Views: 202.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055aadc708320 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-8077-a5abmd.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 238ms (Views: 235.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (13.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055881e3e5700 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-8659-4ff2jn.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 200ms (Views: 198.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000555c2c8077c0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-11441-bxof3z.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400046"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400046"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400046"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400046"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613400046"]]
  Rendered pessoas/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 219ms (Views: 209.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055612c39e300 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-12009-ukqx7y.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400058"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400058"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400058"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613400058"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613400058"]]
  Rendered pessoas/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 224ms (Views: 213.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005590293d4578 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-12826-d60cw3.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 200ms (Views: 198.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055653c865ac8 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-13089-a1yyrm.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 196ms (Views: 195.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (25.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005560a8f17e18 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-21575-18mk8fo.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419701"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419701"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419701"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419701"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613419701"]]
  Rendered pessoas/show.html.erb within layouts/application (18.1ms)
Completed 500 Internal Server Error in 166ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 139ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000560562309b80 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-21789-bxk7hq.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419734"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419734"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419734"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419734"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613419734"]]
  Rendered pessoas/show.html.erb within layouts/application (8.4ms)
Completed 500 Internal Server Error in 147ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000564e1a2d7710 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-22203-1v9rr7g.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419754"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419754"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419754"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419754"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613419754"]]
  Rendered pessoas/show.html.erb within layouts/application (18.5ms)
Completed 200 OK in 310ms (Views: 299.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000564e1c9b1fe8 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-22203-1lmzm36.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 266ms (Views: 266.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000559d7112d4a0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-25813-iwudu8.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419931"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419931"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419931"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419931"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613419931"]]
  Rendered pessoas/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x0000559d6f7d20f0 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-25813-1fyfrpb.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (125.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.4ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formul√°rio_de_importa√ß√£o_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 271ms (Views: 271.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_v√°lido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055abf53eee90 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-26161-fnic7s.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419941"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419941"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419941"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613419941"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613419941"]]
  Rendered pessoas/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 12ms (Views: 6.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000055abf658c648 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-26161-1hdbili.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_valido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00005629f596db18 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-6389-y9d8g3.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420664"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420664"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420664"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420664"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613420664"]]
  Rendered pessoas/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 165ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000056486c313340 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-7196-xttr8u.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 281ms (Views: 279.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_valido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x000056486f8c9480 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-7196-61lpnh.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420707"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420707"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420707"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420707"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.2ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613420707"]]
  Rendered pessoas/show.html.erb within layouts/application (9.1ms)
Completed 200 OK in 18ms (Views: 10.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formulario_de_importacao_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (0.3ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "pessoas"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 19.99, 3, 'Rua Exemplo, 101', 'Store Magic Food', 582105407)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, 'R$10 off R$20 of food', NULL, 3, 'Rua Exemplo, 101', 'Store Magic Food', 491387824)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES (NULL, NULL, NULL, NULL, NULL, NULL, 616963765)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', -30, 3, 'Rua Exemplo, 101', 'Store Magic Food', 315780931)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "pessoas" ("comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor", "id") VALUES ('Jo√£o Silva', 'R$10 off R$20 of food', 21.19, -14, 'Rua Exemplo, 101', 'Store Magic Food', 1021213344)[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_arquivo_valido
----------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00007fa3de654e90 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-43-17gkqhg.txt>, @original_filename="dados_validos.txt", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_validos.txt\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420838"], ["comprador", "Jo√£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco", 10.0], ["quantidade", 2.0], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420838"], ["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco", 10.0], ["quantidade", 5.0], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420838"], ["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 1.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "pessoas" ("lote", "comprador", "descricao", "preco", "quantidade", "endereco", "fornecedor") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["lote", "1613420838"], ["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco", 5.0], ["quantidade", 4.0], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pessoas/show.html.erb within layouts/application
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT "pessoas".* FROM "pessoas" WHERE "pessoas"."lote" = ? ORDER BY preco DESC[0m  [["lote", "1613420838"]]
  Rendered pessoas/show.html.erb within layouts/application (14.9ms)
Completed 200 OK in 2806ms (Views: 2794.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoasControllerTest: test_Fazer_upload_de_extens√£o_inv√°lida
-------------------------------------------------------------
Processing by PessoasController#create as HTML
  Parameters: {"arquivo"=>#<ActionDispatch::Http::UploadedFile:0x00007fa3de412920 @tempfile=#<Tempfile:/tmp/RackMultipart20210215-43-y1th4x.pdf>, @original_filename="dados_invalidos.pdf", @content_type="text/txt", @headers="Content-Disposition: form-data; name=\"arquivo\"; filename=\"dados_invalidos.pdf\"\r\nContent-Type: text/txt\r\nContent-Length: 363\r\n">}
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
PessoasControllerTest: test_o_formulario_de_importacao_deve_carregar
--------------------------------------------------------------------
Processing by PessoasController#index as HTML
  Rendering pessoas/index.html.erb within layouts/application
  Rendered pessoas/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_todos_os_atributos
-------------------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 582105407], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
PessoaTest: test_O_pre√ßo_n√£o_pode_ser_negativo
----------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 315780931], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
PessoaTest: test_A_quantidade_n√£o_pode_ser_negativa
---------------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 1021213344], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
PessoaTest: test_Salvar_pessoa_preenchendo_n√£o_informando_todos_os_atributos
----------------------------------------------------------------------------
  [1m[36mPessoa Load (1.0ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 491387824], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
PessoaTest: test_Todos_os_atributos_vazios
------------------------------------------
  [1m[36mPessoa Load (0.1ms)[0m  [1m[34mSELECT  "pessoas".* FROM "pessoas" WHERE "pessoas"."id" = ? LIMIT ?[0m  [["id", 616963765], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
